<% if @messages.empty? %>
<p>There is No Messages!</p> 
<% else %>

    <table id="myTable" class="display">
        <thead>
            <tr>
                <th>User Name</th>
                <th>Messages</th>
                <th colspan="2">Date Time</th>
                <th colspan="3">Action</th>
            </tr>
        </thead>
        <tbody>
        <% @messages.each do |msg| %>
            <tr>
            <td><%= link_to msg.user.username,  edit_user_path(msg.user) if msg.user%></td>
                <td><%= msg.message   %></td>
                <td><%= msg.created_at %></td>
                <td><%= link_to 'Show', message_path(msg) %></td>
                <td><%= link_to 'Edit', edit_message_path(msg) %></td>
                <td><%= link_to 'Delete', message_path(msg), data: { turbo_method: :delete, turbo_confirm: "Are You Sure?" } %></td>
            </tr>
        <% end %>
        </tbody>
    </table>
<% end %>
